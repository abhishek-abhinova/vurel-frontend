(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,50965,e=>{"use strict";let t=(0,e.i(75254).default)("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);e.s(["ShoppingBag",()=>t],50965)},71689,e=>{"use strict";let t=(0,e.i(75254).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},23750,e=>{"use strict";var t=e.i(43476),s=e.i(47163);function a({className:e,type:a,...r}){return(0,t.jsx)("input",{type:a,"data-slot":"input",className:(0,s.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}e.s(["Input",()=>a])},31278,e=>{"use strict";let t=(0,e.i(75254).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},7233,e=>{"use strict";let t=(0,e.i(75254).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},10708,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(48425),r=s.forwardRef((e,s)=>(0,t.jsx)(a.Primitive.label,{...e,ref:s,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));r.displayName="Label";var i=e.i(47163);function l({className:e,...s}){return(0,t.jsx)(r,{"data-slot":"label",className:(0,i.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...s})}e.s(["Label",()=>l],10708)},15788,e=>{"use strict";let t=(0,e.i(75254).default)("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);e.s(["Truck",()=>t],15788)},69035,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(48425),r="horizontal",i=["horizontal","vertical"],l=s.forwardRef((e,s)=>{var l;let{decorative:n,orientation:o=r,...d}=e,c=(l=o,i.includes(l))?o:r;return(0,t.jsx)(a.Primitive.div,{"data-orientation":c,...n?{role:"none"}:{"aria-orientation":"vertical"===c?c:void 0,role:"separator"},...d,ref:s})});l.displayName="Separator";var n=e.i(47163);function o({className:e,orientation:s="horizontal",decorative:a=!0,...r}){return(0,t.jsx)(l,{"data-slot":"separator",decorative:a,orientation:s,className:(0,n.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...r})}e.s(["Separator",()=>o],69035)},99023,78059,e=>{"use strict";let t=(0,e.i(75254).default)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);e.s(["Minus",()=>t],99023);var s=e.i(47167),a=e.i(43476),r=e.i(71645),i=e.i(37727),l=e.i(31278),n=e.i(67881),o=e.i(23750),d=e.i(10708),c=e.i(20682);let m=s.default.env.NEXT_PUBLIC_API_URL||"http://localhost:8000";function u({isOpen:e,onClose:t,onSuccess:s,title:u="Create Account",message:x="Please create an account to continue"}){let{toast:h}=(0,c.useToast)(),[p,f]=(0,r.useState)(!1),[g,y]=(0,r.useState)(!1),[v,b]=(0,r.useState)({firstName:"",lastName:"",email:"",password:"",confirmPassword:""});if(!e)return null;let j=async e=>{if(e.preventDefault(),!p&&v.password!==v.confirmPassword)return void h({title:"Error",description:"Passwords don't match",variant:"destructive"});y(!0);try{if(p){let e=await fetch(`${m}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:v.email,password:v.password})}),t=await e.json();if(!e.ok)throw Error(t.detail||"Login failed");localStorage.setItem("token",t.access_token),localStorage.setItem("user",JSON.stringify(t.user)),window.dispatchEvent(new Event("storage")),h({title:"Welcome back!",description:`Logged in as ${t.user.first_name}`})}else{let e=await fetch(`${m}/api/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({first_name:v.firstName,last_name:v.lastName,email:v.email,password:v.password})}),t=await e.json();if(!e.ok)throw Error(t.detail||"Registration failed");localStorage.setItem("token",t.access_token),localStorage.setItem("user",JSON.stringify(t.user)),window.dispatchEvent(new Event("storage")),h({title:"Account Created!",description:`Welcome, ${t.user.first_name}!`})}s(),t()}catch(e){h({title:"Error",description:e.message,variant:"destructive"})}finally{y(!1)}};return(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),(0,a.jsxs)("div",{className:"relative bg-white rounded-xl shadow-2xl w-full max-w-md mx-4 p-6 animate-in zoom-in-95 duration-200",children:[(0,a.jsx)("button",{onClick:t,className:"absolute top-4 right-4 text-muted-foreground hover:text-foreground",children:(0,a.jsx)(i.X,{className:"h-5 w-5"})}),(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-foreground",children:p?"Welcome Back":u}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:p?"Login to continue":x})]}),(0,a.jsxs)("form",{onSubmit:j,className:"space-y-4",children:[!p&&(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(d.Label,{htmlFor:"firstName",className:"text-xs",children:"First Name"}),(0,a.jsx)(o.Input,{id:"firstName",required:!0,value:v.firstName,onChange:e=>b({...v,firstName:e.target.value}),className:"h-10",placeholder:"John"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d.Label,{htmlFor:"lastName",className:"text-xs",children:"Last Name"}),(0,a.jsx)(o.Input,{id:"lastName",required:!0,value:v.lastName,onChange:e=>b({...v,lastName:e.target.value}),className:"h-10",placeholder:"Doe"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d.Label,{htmlFor:"email",className:"text-xs",children:"Email"}),(0,a.jsx)(o.Input,{id:"email",type:"email",required:!0,value:v.email,onChange:e=>b({...v,email:e.target.value}),className:"h-10",placeholder:"john@example.com"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d.Label,{htmlFor:"password",className:"text-xs",children:"Password"}),(0,a.jsx)(o.Input,{id:"password",type:"password",required:!0,value:v.password,onChange:e=>b({...v,password:e.target.value}),className:"h-10",placeholder:"••••••••"})]}),!p&&(0,a.jsxs)("div",{children:[(0,a.jsx)(d.Label,{htmlFor:"confirmPassword",className:"text-xs",children:"Confirm Password"}),(0,a.jsx)(o.Input,{id:"confirmPassword",type:"password",required:!0,value:v.confirmPassword,onChange:e=>b({...v,confirmPassword:e.target.value}),className:"h-10",placeholder:"••••••••"})]}),(0,a.jsxs)(n.Button,{type:"submit",className:"w-full h-11",disabled:g,children:[g&&(0,a.jsx)(l.Loader2,{className:"h-4 w-4 animate-spin mr-2"}),p?"Login":"Create Account"]})]}),(0,a.jsxs)("div",{className:"mt-4 text-center text-sm text-muted-foreground",children:[p?"Don't have an account? ":"Already have an account? ",(0,a.jsx)("button",{type:"button",onClick:()=>f(!p),className:"text-primary font-medium hover:underline",children:p?"Sign Up":"Login"})]})]})]})}e.s(["AuthModal",()=>u],78059)},13689,e=>{"use strict";var t=e.i(47167),s=e.i(43476),a=e.i(71645),r=e.i(22016),i=e.i(18566),l=e.i(57688),n=e.i(99023),o=e.i(7233),d=e.i(37727),c=e.i(50965),m=e.i(71689),u=e.i(15788),x=e.i(75254);let h=(0,x.default)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),p=(0,x.default)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);var f=e.i(67881),g=e.i(23750),y=e.i(69035),v=e.i(54858),b=e.i(78059),j=e.i(20682);let N=t.default.env.NEXT_PUBLIC_API_URL||"http://localhost:8000";function w(){let e=(0,i.useRouter)(),{toast:t}=(0,j.useToast)(),[x,w]=(0,a.useState)([]),[k,S]=(0,a.useState)(""),[C,F]=(0,a.useState)(null),[P,L]=(0,a.useState)(!1),[I,M]=(0,a.useState)(!1),[_,T]=(0,a.useState)({free_delivery_minimum:800,delivery_charge:85});(0,a.useEffect)(()=>{let e=localStorage.getItem("cart");e&&w(JSON.parse(e)),(async()=>{try{let e=await fetch(`${N}/api/settings/shipping`);if(e.ok){let t=await e.json();T(t)}}catch(e){}})()},[]);let A=(e,t)=>{if(t<1)return;let s=x.map(s=>s.id===e?{...s,quantity:t}:s);w(s),localStorage.setItem("cart",JSON.stringify(s))},O=x.reduce((e,t)=>e+t.price*t.quantity,0),q=C?.discount||0,E=O>=_.free_delivery_minimum?0:_.delivery_charge,z=Math.round((O-q)*.04),B=O-q+E+z,R=async()=>{if(k.trim()){L(!0);try{let e=await fetch(`${N}/api/coupons/validate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:k,order_total:O})}),s=await e.json();if(!e.ok)throw Error(s.message||"Invalid coupon");let a={id:s.coupon_id,discount:s.discount,code:k.toUpperCase()};F(a),localStorage.setItem("appliedCoupon",JSON.stringify(a)),t({title:"Coupon Applied!",description:`You saved ₹${s.discount.toFixed(0)}!`}),S("")}catch(e){t({title:"Invalid Coupon",description:e.message,variant:"destructive"})}finally{L(!1)}}};return 0===x.length?(0,s.jsx)("main",{className:"min-h-screen bg-background",children:(0,s.jsx)("div",{className:"container mx-auto px-4 py-12 sm:py-20",children:(0,s.jsxs)("div",{className:"max-w-md mx-auto text-center",children:[(0,s.jsx)("div",{className:"w-20 h-20 sm:w-24 sm:h-24 mx-auto mb-6 rounded-full bg-muted flex items-center justify-center",children:(0,s.jsx)(c.ShoppingBag,{className:"w-10 h-10 sm:w-12 sm:h-12 text-muted-foreground"})}),(0,s.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground mb-3",style:{fontFamily:"var(--font-sans)"},children:"Your Cart is Empty"}),(0,s.jsx)("p",{className:"text-muted-foreground mb-8",style:{fontFamily:"var(--font-body)"},children:"Looks like you haven't added anything to your cart yet."}),(0,s.jsx)(r.default,{href:"/shop",children:(0,s.jsx)(f.Button,{size:"lg",className:"w-full sm:w-auto",children:"Continue Shopping"})})]})})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("main",{className:"min-h-screen bg-background",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 py-6 sm:py-12",children:[(0,s.jsxs)(r.default,{href:"/shop",className:"inline-flex items-center gap-2 text-muted-foreground hover:text-primary transition-colors mb-6 sm:mb-8",style:{fontFamily:"var(--font-body)"},children:[(0,s.jsx)(m.ArrowLeft,{className:"w-4 h-4"}),(0,s.jsx)("span",{className:"text-sm",children:"Continue Shopping"})]}),(0,s.jsxs)("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-foreground mb-6 sm:mb-10",style:{fontFamily:"var(--font-sans)"},children:["Shopping Cart",(0,s.jsxs)("span",{className:"text-muted-foreground text-lg sm:text-xl font-normal ml-2",children:["(",x.reduce((e,t)=>e+t.quantity,0)," items)"]})]}),(0,s.jsxs)("div",{className:"grid lg:grid-cols-3 gap-6 lg:gap-10",children:[(0,s.jsx)("div",{className:"lg:col-span-2 space-y-4",children:x.map(e=>(0,s.jsx)("div",{className:"bg-card rounded-xl p-4 sm:p-5 border border-border shadow-sm",children:(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsxs)("div",{className:"relative w-20 h-24 sm:w-28 sm:h-32 flex-shrink-0 rounded-lg overflow-hidden bg-muted",children:[(0,s.jsx)(l.default,{src:e.image||"/placeholder.svg",alt:e.name,fill:!0,className:"object-cover"}),(0,s.jsx)("div",{className:"absolute bottom-1 left-1 pointer-events-none",children:(0,s.jsx)("span",{className:"text-white/50 text-[8px] font-bold tracking-widest uppercase select-none",style:{textShadow:"1px 1px 2px rgba(0,0,0,0.5)"},children:"Vurel"})})]}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start gap-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-foreground text-sm sm:text-base line-clamp-2",style:{fontFamily:"var(--font-sans)"},children:e.name}),(0,s.jsxs)("p",{className:"text-xs sm:text-sm text-muted-foreground mt-1",style:{fontFamily:"var(--font-body)"},children:["Size: ",e.size," | Color: ",e.color]})]}),(0,s.jsx)("button",{onClick:()=>{var t;let s;return t=e.id,void(w(s=x.filter(e=>e.id!==t)),localStorage.setItem("cart",JSON.stringify(s)))},className:"p-1.5 hover:bg-muted rounded-full transition-colors flex-shrink-0",children:(0,s.jsx)(d.X,{className:"w-4 h-4 text-muted-foreground"})})]}),(0,s.jsxs)("div",{className:"flex items-end justify-between mt-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,s.jsx)("button",{onClick:()=>A(e.id,e.quantity-1),className:"w-8 h-8 sm:w-9 sm:h-9 rounded-full border border-border flex items-center justify-center hover:bg-muted transition-colors",children:(0,s.jsx)(n.Minus,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),(0,s.jsx)("span",{className:"w-8 text-center font-medium text-sm sm:text-base",style:{fontFamily:"var(--font-body)"},children:e.quantity}),(0,s.jsx)("button",{onClick:()=>A(e.id,e.quantity+1),className:"w-8 h-8 sm:w-9 sm:h-9 rounded-full border border-border flex items-center justify-center hover:bg-muted transition-colors",children:(0,s.jsx)(o.Plus,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]}),(0,s.jsxs)("p",{className:"font-bold text-primary text-base sm:text-lg",style:{fontFamily:"var(--font-body)"},children:["₹",(e.price*e.quantity).toFixed(0)]})]})]})]})},e.id))}),(0,s.jsx)("div",{className:"lg:col-span-1",children:(0,s.jsxs)("div",{className:"bg-card rounded-xl p-5 sm:p-6 border border-border shadow-sm sticky top-24",children:[(0,s.jsx)("h2",{className:"text-lg sm:text-xl font-bold text-foreground mb-5",style:{fontFamily:"var(--font-sans)"},children:"Order Summary"}),C?(0,s.jsxs)("div",{className:"flex items-center justify-between bg-green-50 text-green-700 p-3 rounded-lg mb-5 text-sm",children:[(0,s.jsxs)("span",{className:"flex items-center gap-2 font-medium",children:["✓ ",C.code," - ₹",C.discount.toFixed(0)," off"]}),(0,s.jsx)("button",{onClick:()=>{F(null),localStorage.removeItem("appliedCoupon")},className:"text-green-700 hover:text-green-900",children:"✕"})]}):(0,s.jsxs)("div",{className:"flex gap-2 mb-5",children:[(0,s.jsx)(g.Input,{placeholder:"Promo code",value:k,onChange:e=>S(e.target.value.toUpperCase()),className:"flex-1 text-sm",style:{fontFamily:"var(--font-body)"}}),(0,s.jsx)(f.Button,{variant:"outline",onClick:R,disabled:P||!k.trim(),className:"text-sm px-4 bg-transparent",children:P?"...":"Apply"})]}),(0,s.jsx)(y.Separator,{className:"my-4"}),(0,s.jsxs)("div",{className:"space-y-3",style:{fontFamily:"var(--font-body)"},children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Subtotal"}),(0,s.jsxs)("span",{className:"font-medium",children:["₹",O.toFixed(0)]})]}),q>0&&(0,s.jsxs)("div",{className:"flex justify-between text-sm text-green-600",children:[(0,s.jsx)("span",{children:"Discount"}),(0,s.jsxs)("span",{children:["-₹",q.toFixed(0)]})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Shipping"}),(0,s.jsx)("span",{className:`font-medium ${0===E?"text-green-600":""}`,children:0===E?"Free":`₹${E}`})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Tax"}),(0,s.jsxs)("span",{className:"font-medium",children:["₹",z]})]})]}),(0,s.jsx)(y.Separator,{className:"my-4"}),(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("span",{className:"font-semibold text-foreground",style:{fontFamily:"var(--font-body)"},children:"Total"}),(0,s.jsxs)("span",{className:"text-xl sm:text-2xl font-bold text-primary",style:{fontFamily:"var(--font-body)"},children:["₹",B.toFixed(0)]})]}),(0,s.jsx)(f.Button,{size:"lg",className:"w-full text-base",onClick:()=>{(0,v.getCurrentUser)()?e.push("/checkout"):M(!0)},children:"Proceed to Checkout"}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-3 mt-6 pt-5 border-t border-border",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(u.Truck,{className:"w-5 h-5 mx-auto text-primary mb-1"}),(0,s.jsx)("p",{className:"text-[10px] sm:text-xs text-muted-foreground",style:{fontFamily:"var(--font-body)"},children:"Free Shipping"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(h,{className:"w-5 h-5 mx-auto text-primary mb-1"}),(0,s.jsx)("p",{className:"text-[10px] sm:text-xs text-muted-foreground",style:{fontFamily:"var(--font-body)"},children:"Secure Payment"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(p,{className:"w-5 h-5 mx-auto text-primary mb-1"}),(0,s.jsx)("p",{className:"text-[10px] sm:text-xs text-muted-foreground",style:{fontFamily:"var(--font-body)"},children:"Easy Returns"})]})]})]})})]})]})}),(0,s.jsx)(b.AuthModal,{isOpen:I,onClose:()=>M(!1),onSuccess:()=>{t({title:"Account Ready!",description:"Proceeding to checkout..."}),e.push("/checkout")},title:"Create Account to Checkout",message:"Sign up or login to complete your purchase"})]})}e.s(["default",()=>w],13689)}]);