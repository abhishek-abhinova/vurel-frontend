{"version":3,"sources":["../../../../components/product/product-details.tsx","../../../../app/product/%5Bid%5D/page.tsx","../../../../node_modules/lucide-react/src/icons/share-2.ts"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport Image from \"next/image\"\nimport { Heart, Share2, Minus, Plus, Check, Star, Loader2, ChevronDown, ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { Product, getCurrentUser } from \"@/lib/api\"\nimport { useToast } from \"@/hooks/use-toast\"\nimport { AuthModal } from \"@/components/auth/auth-modal\"\n\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:8000\"\n\n// Format price with Indian currency format\nconst formatPrice = (amount: number) => {\n  return new Intl.NumberFormat('en-IN', {\n    style: 'currency',\n    currency: 'INR',\n    maximumFractionDigits: 0\n  }).format(amount)\n}\n\ninterface Review {\n  id: number; reviewer_name: string; rating: number; review_text: string; created_at: string\n}\n\ninterface ProductDetailsProps { product: Product }\n\nexport function ProductDetails({ product }: ProductDetailsProps) {\n  const router = useRouter()\n  const { toast } = useToast()\n  const [selectedImage, setSelectedImage] = useState(0)\n  const [selectedSize, setSelectedSize] = useState(\"\")\n  const [quantity, setQuantity] = useState(1)\n  const [reviews, setReviews] = useState<Review[]>([])\n  const [avgRating, setAvgRating] = useState(0)\n  const [reviewCount, setReviewCount] = useState(0)\n  const [showReviewForm, setShowReviewForm] = useState(false)\n  const [reviewForm, setReviewForm] = useState({ name: \"\", rating: 5, text: \"\" })\n  const [isSubmitting, setIsSubmitting] = useState(false)\n  const [showAuthModal, setShowAuthModal] = useState(false)\n  const [isInWishlist, setIsInWishlist] = useState(false)\n  const [openFaq, setOpenFaq] = useState<number | null>(null)\n  const [reviewPage, setReviewPage] = useState(0)\n\n  // Get FAQs from product (or empty array)\n  const faqs: { question: string; answer: string }[] = (product as any).faqs || []\n\n  const sizes = product.sizes?.length > 0 ? product.sizes : []\n  const colors = product.colors?.length > 0 ? product.colors : []\n  const [selectedColor, setSelectedColor] = useState(colors.length > 0 ? colors[0] : null)\n\n  // Filter gallery images by selected color\n  const getFilteredGalleryImages = () => {\n    if (!product.gallery_images?.length) return []\n    return product.gallery_images\n      .filter((img: any) => {\n        // Handle both old string format and new object format\n        if (typeof img === 'string') return true // Old format - show for all colors\n        return img.color === null || img.color === selectedColor?.name\n      })\n      .map((img: any) => typeof img === 'string' ? img : img.url)\n  }\n\n  const productImages = [\n    product.image_url || \"/placeholder.svg\",\n    ...getFilteredGalleryImages()\n  ].filter(Boolean)\n\n  // Reset to first image when color changes\n  useEffect(() => {\n    setSelectedImage(0)\n  }, [selectedColor])\n\n  useEffect(() => {\n    fetchReviews()\n    // Check if product is in wishlist\n    const saved = localStorage.getItem(\"wishlist\")\n    if (saved) {\n      const wishlist = JSON.parse(saved)\n      setIsInWishlist(wishlist.some((item: any) => item.id === product.id))\n    }\n  }, [product.id])\n\n  const toggleWishlist = () => {\n    const saved = localStorage.getItem(\"wishlist\")\n    let wishlist = saved ? JSON.parse(saved) : []\n\n    if (isInWishlist) {\n      wishlist = wishlist.filter((item: any) => item.id !== product.id)\n      toast({ title: \"Removed from Wishlist\" })\n    } else {\n      wishlist.push({\n        id: product.id,\n        name: product.name,\n        price: product.price,\n        image: product.image_url || \"/placeholder.svg\",\n        category: product.category\n      })\n      toast({ title: \"Added to Wishlist\", description: \"View your wishlist in My Account\" })\n    }\n\n    localStorage.setItem(\"wishlist\", JSON.stringify(wishlist))\n    setIsInWishlist(!isInWishlist)\n  }\n\n  const fetchReviews = async () => {\n    try {\n      const response = await fetch(`${API_BASE_URL}/api/products/${product.id}/reviews`)\n      if (response.ok) {\n        const data = await response.json()\n        setReviews(data.reviews || [])\n        setAvgRating(data.rating?.average || 0)\n        setReviewCount(data.rating?.count || 0)\n      }\n    } catch { }\n  }\n\n  const handleShare = async () => {\n    const shareUrl = typeof window !== 'undefined' ? window.location.href : ''\n    const shareData = {\n      title: product.name,\n      text: `Check out ${product.name} on Vurel!`,\n      url: shareUrl\n    }\n\n    try {\n      if (navigator.share) {\n        await navigator.share(shareData)\n      } else {\n        await navigator.clipboard.writeText(shareUrl)\n        toast({ title: \"Link Copied!\", description: \"Product link copied to clipboard\" })\n      }\n    } catch (error) {\n      // User cancelled or error\n      try {\n        await navigator.clipboard.writeText(shareUrl)\n        toast({ title: \"Link Copied!\", description: \"Product link copied to clipboard\" })\n      } catch {\n        toast({ title: \"Error\", description: \"Failed to share\", variant: \"destructive\" })\n      }\n    }\n  }\n\n  const addToCart = () => {\n    const cartItem = {\n      id: product.id, name: product.name, price: product.price, quantity,\n      size: selectedSize, color: selectedColor.name, image: product.image_url || \"/placeholder.svg\"\n    }\n\n    const existingCart = typeof window !== \"undefined\" ? localStorage.getItem(\"cart\") : null\n    const cart = existingCart ? JSON.parse(existingCart) : []\n\n    const existingItemIndex = cart.findIndex(\n      (item: any) => item.id === product.id && item.size === selectedSize && item.color === selectedColor.name\n    )\n\n    if (existingItemIndex >= 0) { cart[existingItemIndex].quantity += quantity }\n    else { cart.push(cartItem) }\n\n    if (typeof window !== \"undefined\") localStorage.setItem(\"cart\", JSON.stringify(cart))\n    return true\n  }\n\n  const handleAddToCart = () => {\n    if (!selectedSize) { toast({ title: \"Please select a size\", variant: \"destructive\" }); return }\n    addToCart()\n    toast({ title: \"Added to Cart\", description: `${product.name} added to your cart` })\n  }\n\n  const handleBuyNow = () => {\n    if (!selectedSize) { toast({ title: \"Please select a size\", variant: \"destructive\" }); return }\n\n    // Add to cart first\n    addToCart()\n\n    // Check if logged in\n    const user = getCurrentUser()\n    if (!user) {\n      // Show auth modal - after login, redirect to cart\n      setShowAuthModal(true)\n    } else {\n      // Already logged in, go to checkout\n      router.push(\"/checkout\")\n    }\n  }\n\n  const handleAuthSuccess = () => {\n    toast({ title: \"Account Ready!\", description: \"Redirecting to cart...\" })\n    router.push(\"/cart\")\n  }\n\n  const submitReview = async (e: React.FormEvent) => {\n    e.preventDefault()\n    if (!reviewForm.name.trim()) { toast({ title: \"Please enter your name\", variant: \"destructive\" }); return }\n\n    setIsSubmitting(true)\n    try {\n      const response = await fetch(`${API_BASE_URL}/api/products/${product.id}/reviews`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ reviewer_name: reviewForm.name, rating: reviewForm.rating, review_text: reviewForm.text })\n      })\n      if (!response.ok) throw new Error('Failed to submit review')\n      toast({ title: \"Review Submitted\", description: \"Your review will appear after approval\" })\n      setReviewForm({ name: \"\", rating: 5, text: \"\" })\n      setShowReviewForm(false)\n    } catch (error: any) {\n      toast({ title: \"Error\", description: error.message, variant: \"destructive\" })\n    } finally { setIsSubmitting(false) }\n  }\n\n  const renderStars = (rating: number, interactive = false, onChange?: (r: number) => void) => (\n    <div className=\"flex gap-0.5\">\n      {[1, 2, 3, 4, 5].map(i => {\n        const fillPercent = Math.min(100, Math.max(0, (rating - i + 1) * 100))\n        return (\n          <button key={i} type=\"button\" disabled={!interactive} onClick={() => onChange?.(i)}\n            className={interactive ? \"cursor-pointer\" : \"cursor-default\"}>\n            <div className=\"relative h-4 w-4\">\n              <Star className=\"absolute h-4 w-4 text-gray-300\" />\n              {fillPercent > 0 && (\n                <div style={{ width: `${fillPercent}%` }} className=\"absolute h-4 overflow-hidden\">\n                  <Star className=\"h-4 w-4 fill-yellow-400 text-yellow-400\" />\n                </div>\n              )}\n            </div>\n          </button>\n        )\n      })}\n    </div>\n  )\n\n  return (\n    <>\n      <section className=\"py-6 sm:py-8 lg:py-12 bg-[#E7F0FA]\">\n        <div className=\"container mx-auto px-4 lg:px-8\">\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8 lg:gap-12\">\n            {/* Images */}\n            <div className=\"space-y-3 sm:space-y-4\">\n              <div className=\"relative aspect-[3/4] lg:aspect-[4/5] lg:max-h-[550px] overflow-hidden rounded-lg sm:rounded-xl bg-white\">\n                <Image src={productImages[selectedImage] || \"/placeholder.svg\"} alt={product.name} fill className=\"object-cover\" />\n                {/* Watermark */}\n                <div className=\"absolute bottom-3 left-3 pointer-events-none\">\n                  <span className=\"text-white/50 text-xs sm:text-sm font-bold tracking-widest uppercase select-none\" style={{ textShadow: '1px 1px 2px rgba(0,0,0,0.5)' }}>Vurel</span>\n                </div>\n              </div>\n              {productImages.length > 1 && (\n                <div className=\"grid grid-cols-4 gap-2 sm:gap-4\">\n                  {productImages.map((image, index) => (\n                    <button key={index} onClick={() => setSelectedImage(index)}\n                      className={`relative aspect-square overflow-hidden rounded-lg bg-white ${selectedImage === index ? \"ring-2 ring-[#2E5E99]\" : \"ring-1 ring-[#7BA4D0]/30\"}`}>\n                      <Image src={image || \"/placeholder.svg\"} alt={`${product.name} ${index + 1}`} fill className=\"object-cover\" />\n                      {/* Watermark */}\n                      <div className=\"absolute bottom-1 left-1 pointer-events-none\">\n                        <span className=\"text-white/50 text-[8px] font-bold tracking-widest uppercase select-none\" style={{ textShadow: '1px 1px 2px rgba(0,0,0,0.5)' }}>Vurel</span>\n                      </div>\n                    </button>\n                  ))}\n                </div>\n              )}\n            </div>\n\n            {/* Details */}\n            <div className=\"lg:py-4\">\n              <div className=\"flex items-start justify-between gap-4 mb-4 sm:mb-6\">\n                <div>\n                  <h1 className=\"text-2xl sm:text-3xl lg:text-4xl font-bold mb-2 text-[#0D2440]\">{product.name}</h1>\n                  <div className=\"flex items-center gap-3\">\n                    <span className=\"text-2xl sm:text-3xl font-bold text-[#0D2440]\">{formatPrice(product.price)}</span>\n                    {reviewCount > 0 && (\n                      <div className=\"flex items-center gap-1\">\n                        {renderStars(Math.round(avgRating))}\n                        <span className=\"text-sm text-muted-foreground\">({reviewCount})</span>\n                      </div>\n                    )}\n                  </div>\n                  {product.stock === 0 && <p className=\"text-sm text-red-600 mt-2\">Out of Stock</p>}\n                </div>\n                <div className=\"flex gap-2\">\n                  <Button variant=\"outline\" size=\"icon\" className={`rounded-full border-[#7BA4D0] ${isInWishlist ? 'bg-red-50' : 'bg-transparent'}`} onClick={toggleWishlist}><Heart className={`h-4 w-4 ${isInWishlist ? 'text-red-500 fill-red-500' : 'text-[#2E5E99]'}`} /></Button>\n                  <Button variant=\"outline\" size=\"icon\" className=\"rounded-full bg-transparent border-[#7BA4D0]\" onClick={handleShare}><Share2 className=\"h-4 w-4 text-[#2E5E99]\" /></Button>\n                </div>\n              </div>\n\n              {product.description && <p className=\"text-sm text-[#0D2440]/80 mb-6\">{product.description}</p>}\n\n              {/* Color Selection */}\n              {colors.length > 0 && (\n                <div className=\"mb-6\">\n                  <p className=\"text-sm font-medium mb-3 text-[#0D2440]\">Color: {selectedColor?.name}</p>\n                  <div className=\"flex gap-3\">\n                    {colors.map((color) => (\n                      <button key={color.name} onClick={() => setSelectedColor(color)}\n                        className={`w-8 h-8 rounded-full border-2 flex items-center justify-center ${selectedColor?.name === color.name ? \"border-[#2E5E99]\" : \"border-transparent\"}`}\n                        style={{ backgroundColor: color.value }}>\n                        {selectedColor?.name === color.name && <Check className=\"h-4 w-4 text-white drop-shadow-md\" />}\n                      </button>\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              {/* Size Selection */}\n              {sizes.length > 0 && (\n                <div className=\"mb-6\">\n                  <p className=\"text-sm font-medium mb-3 text-[#0D2440]\">Size</p>\n                  <div className=\"flex flex-wrap gap-2\">\n                    {sizes.map((size) => (\n                      <button key={size} onClick={() => setSelectedSize(size)}\n                        className={`px-4 py-2 rounded-lg border text-sm font-medium transition-colors ${selectedSize === size ? \"bg-[#2E5E99] text-white border-[#2E5E99]\" : \"bg-white text-[#0D2440] border-[#7BA4D0]/50 hover:border-[#2E5E99]\"}`}>\n                        {size}\n                      </button>\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              {/* Quantity */}\n              <div className=\"mb-6\">\n                <p className=\"text-sm font-medium mb-3 text-[#0D2440]\">Quantity</p>\n                <div className=\"flex items-center border border-[#7BA4D0] rounded-lg w-fit\">\n                  <button onClick={() => setQuantity(Math.max(1, quantity - 1))} className=\"p-2.5 hover:bg-[#7BA4D0]/20 text-[#2E5E99]\"><Minus className=\"h-4 w-4\" /></button>\n                  <span className=\"w-10 text-center font-medium text-[#0D2440]\">{quantity}</span>\n                  <button onClick={() => setQuantity(quantity + 1)} className=\"p-2.5 hover:bg-[#7BA4D0]/20 text-[#2E5E99]\"><Plus className=\"h-4 w-4\" /></button>\n                </div>\n              </div>\n\n              {/* Buttons */}\n              <div className=\"flex flex-col sm:flex-row gap-3 mb-8\">\n                <Button size=\"lg\" onClick={handleAddToCart} disabled={product.stock === 0}\n                  className=\"flex-1 uppercase tracking-wider bg-[#2E5E99] hover:bg-[#0D2440] text-[#E7F0FA] h-12\">\n                  Add to Cart\n                </Button>\n                <Button variant=\"outline\" size=\"lg\" onClick={handleBuyNow} disabled={product.stock === 0}\n                  className=\"flex-1 uppercase tracking-wider bg-transparent border-[#2E5E99] text-[#2E5E99] hover:bg-[#2E5E99] hover:text-[#E7F0FA] h-12\">\n                  Buy Now\n                </Button>\n              </div>\n\n              {/* Product Details */}\n              <div className=\"border-t border-[#7BA4D0]/30 pt-6\">\n                <h3 className=\"text-sm font-semibold uppercase tracking-wider mb-3 text-[#0D2440]\">Product Details</h3>\n                <ul className=\"space-y-2 text-sm text-[#0D2440]/80\">\n                  <li className=\"flex items-center gap-2\"><span className=\"w-1.5 h-1.5 rounded-full bg-[#2E5E99]\" />Category: {product.category}</li>\n                  <li className=\"flex items-center gap-2\"><span className=\"w-1.5 h-1.5 rounded-full bg-[#2E5E99]\" />Stock: {product.stock} available</li>\n                </ul>\n              </div>\n            </div>\n          </div>\n\n          {/* Reviews Section */}\n          <div className=\"mt-12 pt-8 border-t border-[#7BA4D0]/30\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h2 className=\"text-2xl font-bold text-[#0D2440]\">Customer Reviews</h2>\n              <Button variant=\"outline\" onClick={() => setShowReviewForm(!showReviewForm)} className=\"bg-transparent border-[#2E5E99] text-[#2E5E99]\">\n                Write a Review\n              </Button>\n            </div>\n\n            {/* Review Form */}\n            {showReviewForm && (\n              <form onSubmit={submitReview} className=\"bg-white rounded-xl p-6 mb-6 border border-[#7BA4D0]/30\">\n                <h3 className=\"font-semibold mb-4 text-[#0D2440]\">Write Your Review</h3>\n                <div className=\"space-y-4\">\n                  <div>\n                    <label className=\"text-sm font-medium text-[#0D2440]\">Your Name</label>\n                    <Input value={reviewForm.name} onChange={(e) => setReviewForm({ ...reviewForm, name: e.target.value })}\n                      className=\"mt-1\" placeholder=\"John Doe\" required />\n                  </div>\n                  <div>\n                    <label className=\"text-sm font-medium text-[#0D2440]\">Rating</label>\n                    <div className=\"flex gap-1 mt-1\">\n                      {[1, 2, 3, 4, 5].map(i => (\n                        <button key={i} type=\"button\" onClick={() => setReviewForm({ ...reviewForm, rating: i })}>\n                          <Star className={`h-6 w-6 ${i <= reviewForm.rating ? 'fill-yellow-400 text-yellow-400' : 'text-gray-300'}`} />\n                        </button>\n                      ))}\n                    </div>\n                  </div>\n                  <div>\n                    <label className=\"text-sm font-medium text-[#0D2440]\">Review</label>\n                    <Textarea value={reviewForm.text} onChange={(e) => setReviewForm({ ...reviewForm, text: e.target.value })}\n                      className=\"mt-1\" rows={3} placeholder=\"Share your experience...\" />\n                  </div>\n                  <Button type=\"submit\" disabled={isSubmitting} className=\"bg-[#2E5E99] hover:bg-[#0D2440]\">\n                    {isSubmitting && <Loader2 className=\"h-4 w-4 animate-spin mr-2\" />} Submit Review\n                  </Button>\n                </div>\n              </form>\n            )}\n\n            {/* Reviews List */}\n            {reviews.length === 0 ? (\n              <p className=\"text-center text-muted-foreground py-8\">No reviews yet. Be the first to review!</p>\n            ) : (\n              <div className=\"relative\">\n                {/* Reviews Grid - 3 per page */}\n                <div className=\"space-y-4\">\n                  {reviews.slice(reviewPage * 3, reviewPage * 3 + 3).map((review) => (\n                    <div key={review.id} className=\"bg-white rounded-xl p-6 border border-[#7BA4D0]/30\">\n                      <div className=\"flex items-center justify-between mb-2\">\n                        <span className=\"font-semibold text-[#0D2440]\">{review.reviewer_name}</span>\n                        {renderStars(review.rating)}\n                      </div>\n                      <p className=\"text-sm text-[#0D2440]/80 mb-2\">{review.review_text || <em className=\"text-muted-foreground\">No review text</em>}</p>\n                      <p className=\"text-xs text-muted-foreground\">{new Date(review.created_at).toLocaleDateString()}</p>\n                    </div>\n                  ))}\n                </div>\n\n                {/* Pagination Controls */}\n                {reviews.length > 3 && (\n                  <div className=\"flex items-center justify-center gap-4 mt-6\">\n                    <Button\n                      variant=\"outline\"\n                      size=\"icon\"\n                      onClick={() => setReviewPage(prev => Math.max(0, prev - 1))}\n                      disabled={reviewPage === 0}\n                      className=\"border-[#2E5E99] text-[#2E5E99] hover:bg-[#2E5E99] hover:text-white disabled:opacity-50\"\n                    >\n                      <ChevronLeft className=\"h-4 w-4\" />\n                    </Button>\n\n                    <div className=\"flex items-center gap-2\">\n                      {Array.from({ length: Math.ceil(reviews.length / 3) }).map((_, idx) => (\n                        <button\n                          key={idx}\n                          onClick={() => setReviewPage(idx)}\n                          className={`w-2.5 h-2.5 rounded-full transition-colors ${reviewPage === idx ? 'bg-[#2E5E99]' : 'bg-[#7BA4D0]/40 hover:bg-[#7BA4D0]'\n                            }`}\n                        />\n                      ))}\n                    </div>\n\n                    <Button\n                      variant=\"outline\"\n                      size=\"icon\"\n                      onClick={() => setReviewPage(prev => Math.min(Math.ceil(reviews.length / 3) - 1, prev + 1))}\n                      disabled={reviewPage >= Math.ceil(reviews.length / 3) - 1}\n                      className=\"border-[#2E5E99] text-[#2E5E99] hover:bg-[#2E5E99] hover:text-white disabled:opacity-50\"\n                    >\n                      <ChevronRight className=\"h-4 w-4\" />\n                    </Button>\n                  </div>\n                )}\n              </div>\n            )}\n          </div>\n        </div>\n      </section>\n\n      {/* FAQs Section */}\n      {faqs.length > 0 && (\n        <section className=\"py-8 sm:py-12 bg-gradient-to-b from-[#E7F0FA] to-[#d4e4f5]\">\n          <div className=\"container mx-auto px-4 lg:px-8 max-w-3xl\">\n            <h2 className=\"text-xl sm:text-2xl font-bold text-[#0D2440] mb-6\">Frequently Asked Questions</h2>\n            <div className=\"space-y-3\">\n              {faqs.map((faq, index) => (\n                <div key={index} className=\"border border-[#7BA4D0]/40 rounded-xl overflow-hidden shadow-sm\">\n                  <button\n                    onClick={() => setOpenFaq(openFaq === index ? null : index)}\n                    className=\"w-full flex items-center justify-between p-4 text-left bg-[#d4e4f5] hover:bg-[#c4daf0] transition-colors\"\n                  >\n                    <span className=\"font-medium text-[#0D2440]\">{faq.question}</span>\n                    <ChevronDown className={`w-5 h-5 text-[#2E5E99] transition-transform ${openFaq === index ? 'rotate-180' : ''}`} />\n                  </button>\n                  {openFaq === index && (\n                    <div className=\"p-4 bg-[#E7F0FA] text-sm text-[#0D2440]/80 leading-relaxed border-t border-[#7BA4D0]/30\">\n                      {faq.answer}\n                    </div>\n                  )}\n                </div>\n              ))}\n            </div>\n          </div>\n        </section>\n      )}\n\n      {/* Auth Modal for Buy Now */}\n      <AuthModal\n        isOpen={showAuthModal}\n        onClose={() => setShowAuthModal(false)}\n        onSuccess={handleAuthSuccess}\n        title=\"Create Account to Continue\"\n        message=\"Sign up to complete your purchase\"\n      />\n    </>\n  )\n}\n","\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport { useParams } from \"next/navigation\"\nimport { Header } from \"@/components/layout/header\"\nimport { Footer } from \"@/components/layout/footer\"\nimport { SaleTimer } from \"@/components/home/sale-timer\"\nimport { ProductDetails } from \"@/components/product/product-details\"\nimport { publicProductsAPI, Product } from \"@/lib/api\"\nimport Image from \"next/image\"\nimport Link from \"next/link\"\n\nexport default function ProductPage() {\n  const params = useParams()\n  const productId = params?.id ? parseInt(params.id as string) : null\n  const [product, setProduct] = useState<Product | null>(null)\n  const [relatedProducts, setRelatedProducts] = useState<Product[]>([])\n  const [isLoading, setIsLoading] = useState(true)\n\n  useEffect(() => {\n    if (productId) {\n      fetchProduct()\n    }\n  }, [productId])\n\n  const fetchProduct = async () => {\n    if (!productId) return\n    try {\n      const data = await publicProductsAPI.getById(productId)\n      setProduct(data)\n\n      // Fetch related products if available\n      const relatedIds = (data as any).related_products || []\n      if (relatedIds.length > 0) {\n        const allProducts = await publicProductsAPI.getAll()\n        const related = allProducts.filter((p: Product) => relatedIds.includes(p.id))\n        setRelatedProducts(related)\n      }\n    } catch (error) {\n      console.error(\"Failed to fetch product:\", error)\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen\">\n        <SaleTimer />\n        <Header />\n        <main className=\"flex items-center justify-center min-h-[60vh]\">\n          <p className=\"text-[#2E5E99]\">Loading product...</p>\n        </main>\n        <Footer />\n      </div>\n    )\n  }\n\n  if (!product) {\n    return (\n      <div className=\"min-h-screen\">\n        <SaleTimer />\n        <Header />\n        <main className=\"flex items-center justify-center min-h-[60vh]\">\n          <p className=\"text-[#2E5E99]\">Product not found</p>\n        </main>\n        <Footer />\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"min-h-screen\">\n      <SaleTimer />\n      <Header />\n      <main>\n        <ProductDetails product={product} />\n\n        {/* Related Products Section */}\n        {relatedProducts.length > 0 && (\n          <section className=\"py-10 sm:py-14 bg-[#E7F0FA] border-t border-[#7BA4D0]/30\">\n            <div className=\"container mx-auto px-4 lg:px-8\">\n              <h2 className=\"text-2xl sm:text-3xl font-bold text-[#0D2440] mb-6 text-center\">You May Also Like</h2>\n              <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 lg:gap-6\">\n                {relatedProducts.map((p) => (\n                  <Link key={p.id} href={`/product/${p.id}`} className=\"group\">\n                    <div className=\"bg-white rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-shadow\">\n                      <div className=\"relative aspect-[3/4] overflow-hidden\">\n                        <Image\n                          src={p.image_url || \"/placeholder.svg\"}\n                          alt={p.name}\n                          fill\n                          className=\"object-cover transition-transform duration-500 group-hover:scale-105\"\n                        />\n                      </div>\n                      <div className=\"p-3 sm:p-4\">\n                        <p className=\"text-[10px] sm:text-xs uppercase tracking-wider text-[#7BA4D0] mb-1\">{p.category}</p>\n                        <h3 className=\"font-medium text-sm sm:text-base text-[#0D2440] line-clamp-1 mb-1\">{p.name}</h3>\n                        <div className=\"flex items-center gap-2\">\n                          <p className=\"text-[#2E5E99] font-semibold\">₹{p.price.toFixed(0)}</p>\n                          {p.original_price && p.original_price > p.price && (\n                            <p className=\"text-gray-400 text-sm line-through\">₹{p.original_price.toFixed(0)}</p>\n                          )}\n                        </div>\n                      </div>\n                    </div>\n                  </Link>\n                ))}\n              </div>\n            </div>\n          </section>\n        )}\n      </main>\n      <Footer />\n    </div>\n  )\n}\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Share2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxOCIgY3k9IjUiIHI9IjMiIC8+CiAgPGNpcmNsZSBjeD0iNiIgY3k9IjEyIiByPSIzIiAvPgogIDxjaXJjbGUgY3g9IjE4IiBjeT0iMTkiIHI9IjMiIC8+CiAgPGxpbmUgeDE9IjguNTkiIHgyPSIxNS40MiIgeTE9IjEzLjUxIiB5Mj0iMTcuNDkiIC8+CiAgPGxpbmUgeDE9IjE1LjQxIiB4Mj0iOC41OSIgeTE9IjYuNTEiIHkyPSIxMC40OSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/share-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Share2 = createLucideIcon('Share2', [\n  ['circle', { cx: '18', cy: '5', r: '3', key: 'gq8acd' }],\n  ['circle', { cx: '6', cy: '12', r: '3', key: 'w7nqdw' }],\n  ['circle', { cx: '18', cy: '19', r: '3', key: '1xt0gg' }],\n  ['line', { x1: '8.59', x2: '15.42', y1: '13.51', y2: '17.49', key: '47mynk' }],\n  ['line', { x1: '15.41', x2: '8.59', y1: '6.51', y2: '10.49', key: '1n3mei' }],\n]);\n\nexport default Share2;\n"],"names":[],"mappings":"wDCEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,ODFA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,WEQM,CAAA,CAAA,CAAA,CAAA,CAAS,AAAT,CAAA,CAAA,CAAA,QAAS,OAAA,EAAiB,QAAU,CAAA,CAAA,AACxC,CAAC,QAAU,CAAA,CAAA,AAAE,EAAI,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,CAAI,CAAA,CAAA,GAAA,CAAK,CAAG,CAAA,CAAA,CAAA,CAAA,CAAA,AAAK,GAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,CAAA,AACvD,CAAC,QAAU,CAAA,CAAA,AAAE,EAAI,CAAA,CAAA,CAAA,CAAA,CAAK,CAAI,CAAA,CAAA,IAAA,CAAM,CAAG,CAAA,CAAA,CAAA,CAAA,CAAA,AAAK,GAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,CAAA,AACvD,CAAC,QAAU,CAAA,CAAA,GAAM,CAAA,CAAA,CAAA,CAAA,CAAM,CAAI,CAAA,CAAA,IAAA,CAAM,CAAG,CAAA,CAAA,CAAA,CAAA,CAAA,AAAK,GAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,CACxD,AADwD,CACvD,CAAA,CAAA,KAAQ,CAAE,CAAA,CAAA,CAAA,OAAY,GAAA,QAAa,EAAA,CAAI,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAS,CAAA,GAAI,QAAS,CAAA,CAAA,CAAA,CAAA,AAAK,QAAA,CAAU,CAAA,CAAA,AAC7E,CAAC,CAAA,CAAA,CAAA,CAAA,GAAQ,CAAE,CAAA,CAAA,CAAI,CAAS,CAAA,MAAA,CAAA,EAAI,CAAQ,CAAA,KAAA,EAAA,CAAI,OAAQ,GAAI,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAS,CAAA,CAAA,GAAK,QAAA,CAAU,CAAA,CAC7E,EFdD,IAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,MAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,MACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEA,IAAM,EAAe,QAAQ,GAAG,CAAC,mBAAmB,EAAI,wBAiBjD,SAAS,EAAe,CAAE,SAAO,CAAuB,EAC7D,MAAM,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,OAAE,CAAK,CAAE,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,IACpB,CAAC,EAAe,EAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GAC7C,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC3C,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GACnC,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAmB,EAAE,EAC7C,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GACrC,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GACzC,CAAC,EAAgB,EAAkB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC/C,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,CAAE,KAAM,GAAI,OAAQ,EAAG,KAAM,EAAG,GACvE,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC3C,CAAC,EAAe,EAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC7C,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC3C,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MAChD,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GAGvC,EAAgD,EAAgB,IAAI,EAAI,EAAE,CAE1E,EAAQ,EAAQ,KAAK,EAAE,OAAS,EAAI,EAAQ,KAAK,CAAG,EAAE,CACtD,EAAS,EAAQ,MAAM,EAAE,OAAS,EAAI,EAAQ,MAAM,CAAG,EAAE,CACzD,CAAC,GAAe,GAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,EAAO,MAAM,CAAG,EAAI,CAAM,CAAC,EAAE,CAAG,MAc7E,GAAgB,CACpB,EAAQ,SAAS,EAAI,sBAXjB,AAAJ,CAAK,EAAQ,cAAc,EAAE,OAAe,CAAP,CAAS,CACvC,EAAQ,cAAc,CAC1B,MAAM,CAAC,AAAC,GAEY,AAAnB,UAA6B,AAAzB,OAAgC,AAAzB,GACU,EADoB,KAClC,EAAI,KAAK,EAAa,EAAI,KAAK,GAAK,IAAe,MAE3D,CAH6E,EAG1E,CAAC,AAAC,GAAa,AAAe,iBAAR,EAAmB,EAAM,EAAI,GAAG,EAM7D,CAAC,MAAM,CAAC,SAGT,CAAA,EAAA,EAAA,SAAS,AAAT,EAAU,KACR,EAAiB,EACnB,EAAG,CAAC,GAAc,EAElB,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,KAEA,IAAM,EAAQ,aAAa,OAAO,CAAC,YAC/B,GAEF,EADiB,AACD,EAFP,GACa,KAAK,CAAC,GACH,IAAI,CAAC,AAAC,GAAc,EAAK,EAAE,GAAK,EAAQ,EAAE,EAEvE,EAAG,CAAC,EAAQ,EAAE,CAAC,EAwBf,IAAM,GAAe,UACnB,GAAI,CACF,IAAM,EAAW,MAAM,MAAM,CAAA,EAAG,EAAa,cAAc,EAAE,EAAQ,EAAE,CAAC,QAAQ,CAAC,EACjF,GAAI,EAAS,EAAE,CAAE,CACf,IAAM,EAAO,MAAM,EAAS,IAAI,GAChC,EAAW,EAAK,OAAO,EAAI,EAAE,EAC7B,EAAa,EAAK,MAAM,EAAE,SAAW,GACrC,EAAe,EAAK,MAAM,EAAE,OAAS,EACvC,CACF,CAAE,KAAM,CAAE,CACZ,EAEM,GAAc,UAElB,IAAM,EAAY,CAChB,MAAO,EAAQ,IAAI,CACnB,KAAM,CAAC,UAAU,EAAE,EAAQ,IAAI,CAAC,UAAU,CAAC,CAC3C,IAJsE,CAIjE,CACP,EAEA,GAAI,CACE,UAAU,KAAK,CACjB,CADmB,KACb,UAAU,KAAK,CAAC,IAEtB,MAAM,UAAU,SAAS,CAAC,SAAS,CAAC,IACpC,EAAM,CAAE,MAAO,eAAgB,YAAa,kCAAmC,GAEnF,CAAE,MAAO,EAAO,CAEd,GAAI,CACF,MAAM,UAAU,SAAS,CAAC,SAAS,CAAC,IACpC,EAAM,CAAE,MAAO,eAAgB,YAAa,kCAAmC,EACjF,CAAE,KAAM,CACN,EAAM,CAAE,MAAO,QAAS,YAAa,kBAAmB,QAAS,aAAc,EACjF,CACF,CACF,EAEM,GAAY,KAChB,IAAM,EAAW,CACf,GAAI,EAAQ,EAAE,CAAE,KAAM,EAAQ,IAAI,CAAE,MAAO,EAAQ,KAAK,UAAE,EAC1D,KAAM,EAAc,MAAO,GAAc,IAAI,CAAE,MAAO,EAAQ,SAAS,EAAI,kBAC7E,EAGM,EAAiD,EAAE,CAEnD,EAAoB,AAFb,EAEkB,SAAS,CACtC,AAAC,GAAc,EAAK,EAAE,GAAK,EAAQ,EAAE,EAAI,EAAK,IAAI,GAAK,CAH7B,EAG6C,EAAK,KAAK,GAAK,GAAc,IAAI,SAGtG,GAAqB,EAAK,CAAF,AAAM,CAAC,EAAkB,CAAC,QAAQ,EAAI,EAC3D,EAAK,IAAI,CAAC,IAGV,CACT,EA8BM,GAAe,MAAO,IAE1B,GADA,EAAE,cAAc,GACZ,CAAC,EAAW,IAAI,CAAC,IAAI,GAAI,YAAE,EAAM,CAAE,MAAO,yBAA0B,QAAS,aAAc,GAE/F,EAAgB,IAChB,GAAI,CAMF,GAAI,CAAC,CALY,MAAM,MAAM,CAAA,EAAG,EAAa,cAAc,EAAE,EAAQ,EAAE,CAAC,QAAQ,CAAC,CAAE,CACjF,OAAQ,OACR,QAAS,CAAE,eAAgB,kBAAmB,EAC9C,KAAM,KAAK,SAAS,CAAC,CAAE,cAAe,EAAW,IAAI,CAAE,OAAQ,EAAW,MAAM,CAAE,YAAa,EAAW,IAAI,AAAC,EACjH,EAAA,EACc,EAAE,CAAE,MAAM,AAAI,MAAM,2BAClC,EAAM,CAAE,MAAO,mBAAoB,YAAa,wCAAyC,GACzF,EAAc,CAAE,KAAM,GAAI,OAAQ,EAAG,KAAM,EAAG,GAC9C,GAAkB,EACpB,CAAE,MAAO,EAAY,CACnB,EAAM,CAAE,MAAO,QAAS,YAAa,EAAM,OAAO,CAAE,QAAS,aAAc,EAC7E,QAAU,CAAE,GAAgB,EAAO,CACrC,EAEM,GAAc,CAAC,EAAgB,GAAc,CAAK,CAAE,IACxD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wBACZ,CAAC,EAAG,EAAG,EAAG,EAAG,EAAE,CAAC,GAAG,CAAC,IACnB,IAAM,EAAc,KAAK,GAAG,CAAC,IAAK,KAAK,GAAG,CAAC,EAAG,CAAC,EAAS,GAAI,CAAC,CAAI,MACjE,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAe,KAAK,SAAS,SAAU,CAAC,EAAa,QAAS,IAAM,IAAW,GAC9E,UAAW,EAAc,iBAAmB,0BAC5C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6BACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,mCACf,EAAc,GACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,MAAO,CAAE,MAAO,CAAA,EAAG,EAAY,CAAC,CAAC,AAAC,EAAG,UAAU,wCAClD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,kDANX,EAYjB,KAIJ,MACE,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,UAAA,CAAQ,UAAU,8CACjB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2CACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qEAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qHACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAK,CAAA,CAAC,IAAK,EAAa,CAAC,EAAc,EAAI,mBAAoB,IAAK,EAAQ,IAAI,CAAE,IAAI,CAAA,CAAA,EAAC,UAAU,iBAElG,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wDACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,mFAAmF,MAAO,CAAE,WAAY,6BAA8B,WAAG,eAG5J,GAAc,MAAM,CAAG,GACtB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2CACZ,GAAc,GAAG,CAAC,CAAC,EAAO,IACzB,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CAAmB,QAAS,IAAM,EAAiB,GAClD,UAAW,CAAC,2DAA2D,EAAE,IAAkB,EAAQ,wBAA0B,2BAAA,CAA4B,WACzJ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAK,CAAA,CAAC,IAAK,GAAS,mBAAoB,IAAK,CAAA,EAAG,EAAQ,IAAI,CAAC,CAAC,EAAE,EAAQ,EAAA,CAAG,CAAE,IAAI,CAAA,CAAA,EAAC,UAAU,iBAE7F,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wDACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,2EAA2E,MAAO,CAAE,WAAY,6BAA8B,WAAG,cALxI,SAcrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,0EAAkE,EAAQ,IAAI,GAC5F,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,0DA/Pf,AA+PgE,EAAY,EAAQ,KAAK,CA9PrG,IAAI,KAAK,YAAY,CAAC,QAAS,CACpC,MAAO,WACP,SAAU,MACV,sBAAuB,CACzB,GAAG,MAAM,CAAC,MA2PS,EAAc,GACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACZ,GAAY,KAAK,KAAK,CAAC,IACxB,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,0CAAgC,IAAE,EAAY,aAIjD,IAAlB,EAAQ,KAAK,EAAU,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,qCAA4B,oBAEnE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,QAAQ,UAAU,KAAK,OAAO,UAAW,CAAC,8BAA8B,EAAE,EAAe,YAAc,iBAAA,CAAkB,CAAE,QApM5H,CAoMqI,IAnM1J,IAAM,EAAQ,aAAa,OAAO,CAAC,YAC/B,EAAW,EAAQ,KAAK,KAAK,CAAC,GAAS,EAAE,CAEzC,GACF,EAAW,EAAS,MAAM,CADV,AACW,AAAC,GAAc,EAAK,EAAE,GAAK,EAAQ,EAAE,EAChE,EAAM,CAAE,MAAO,uBAAwB,KAEvC,EAAS,IAAI,CAAC,CACZ,GAAI,EAAQ,EAAE,CACd,KAAM,EAAQ,IAAI,CAClB,MAAO,EAAQ,KAAK,CACpB,MAAO,EAAQ,SAAS,EAAI,mBAC5B,SAAU,EAAQ,QAAQ,AAC5B,GACA,EAAM,CAAE,MAAO,oBAAqB,YAAa,kCAAmC,IAGtF,aAAa,OAAO,CAAC,WAAY,KAAK,SAAS,CAAC,IAChD,EAAgB,CAAC,EACnB,WAgL4K,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAW,CAAC,QAAQ,EAAE,EAAe,4BAA8B,iBAAA,CAAkB,KACxP,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,QAAQ,UAAU,KAAK,OAAO,UAAU,+CAA+C,QAAS,YAAa,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAO,UAAU,mCAI1I,EAAQ,WAAW,EAAI,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,0CAAkC,EAAQ,WAAW,GAGzF,EAAO,MAAM,CAAG,GACf,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBACb,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,oDAA0C,UAAQ,IAAe,QAC9E,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sBACZ,EAAO,GAAG,CAAC,AAAC,GACX,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAwB,QAAS,IAAM,GAAiB,GACvD,UAAW,CAAC,+DAA+D,EAAE,IAAe,OAAS,EAAM,IAAI,CAAG,mBAAqB,qBAAA,CAAsB,CAC7J,MAAO,CAAE,gBAAiB,EAAM,KAAK,AAAC,WACrC,IAAe,OAAS,EAAM,IAAI,EAAI,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,uCAH7C,EAAM,IAAI,QAW9B,EAAM,MAAM,CAAG,GACd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,mDAA0C,SACvD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gCACZ,EAAM,GAAG,CAAC,AAAC,GACV,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAkB,QAAS,IAAM,EAAgB,GAChD,UAAW,CAAC,kEAAkE,EAAE,IAAiB,EAAO,2CAA6C,qEAAA,CAAsE,UAC1N,GAFU,SAUrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,mDAA0C,aACvD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uEACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,QAAS,IAAM,EAAY,KAAK,GAAG,CAAC,EAAG,EAAW,IAAK,UAAU,sDAA6C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,cACvI,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,uDAA+C,IAC/D,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,QAAS,IAAM,EAAY,EAAW,GAAI,UAAU,sDAA6C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,oBAK7H,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iDACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,KAAK,KAAK,QAtKR,CAsKiB,IArKvC,AAAK,GACL,CADI,IAEJ,EAAM,CAAE,GAFW,GAEJ,gBAAiB,YAAa,CAAA,EAAG,EAAQ,IAAI,CAAC,mBAAmB,CAAC,AAAC,IAF7D,EAAM,CAAE,MAAO,uBAAwB,QAAS,aAAc,EAGrF,EAkK0D,SAA4B,IAAlB,EAAQ,KAAK,CACjE,UAAU,+FAAsF,gBAGlG,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,QAAQ,UAAU,KAAK,KAAK,QApK7B,CAoKsC,IAnKpD,AAAL,GAGA,CAHI,IAMS,CAAA,EAAA,EAAA,CANM,aAMN,AAAc,IAMzB,EAAO,IAAI,CAAC,aAHZ,GAAiB,IATE,EAAM,CAAE,MAAO,uBAAwB,QAAS,aAAc,EAcrF,EAqJyE,SAA4B,AAAlB,MAAQ,KAAK,CAChF,UAAU,uIAA8H,eAM5I,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,8EAAqE,oBACnF,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,gDACZ,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,oCAA0B,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,0CAA0C,aAAW,EAAQ,QAAQ,IAC7H,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,oCAA0B,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,0CAA0C,UAAQ,EAAQ,KAAK,CAAC,4BAOhI,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,6CAAoC,qBAClD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,QAAQ,UAAU,QAAS,IAAM,EAAkB,CAAC,GAAiB,UAAU,0DAAiD,sBAMzI,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,SAAU,GAAc,UAAU,oEACtC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,6CAAoC,sBAClD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,8CAAqC,cACtD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,MAAO,EAAW,IAAI,CAAE,SAAU,AAAC,GAAM,EAAc,CAAE,GAAG,CAAU,CAAE,KAAM,EAAE,MAAM,CAAC,KAAM,AAAD,GACjG,UAAU,OAAO,YAAY,WAAW,QAAQ,CAAA,CAAA,OAEpD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,8CAAqC,WACtD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2BACZ,CAAC,EAAG,EAAG,EAAG,EAAG,EAAE,CAAC,GAAG,CAAC,GACnB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAe,KAAK,SAAS,QAAS,IAAM,EAAc,CAAE,GAAG,CAAU,CAAE,OAAQ,CAAE,YACpF,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAW,CAAC,QAAQ,EAAE,GAAK,EAAW,MAAM,CAAG,kCAAoC,gBAAA,CAAiB,IAD/F,SAMnB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,8CAAqC,WACtD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,MAAO,EAAW,IAAI,CAAE,SAAU,AAAC,GAAM,EAAc,CAAE,GAAG,CAAU,CAAE,KAAM,EAAE,MAAM,CAAC,KAAK,AAAC,GACrG,UAAU,OAAO,KAAM,EAAG,YAAY,gCAE1C,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,KAAK,SAAS,SAAU,EAAc,UAAU,4CACrD,GAAgB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAC,UAAU,8BAA+B,0BAOvD,IAAnB,EAAQ,MAAM,CACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,kDAAyC,4CAEtD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qBAEb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACZ,EAAQ,KAAK,CAAc,EAAb,EAA6B,EAAb,EAAiB,GAAG,GAAG,CAAC,AAAC,GACtD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAoB,UAAU,+DAC7B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wCAAgC,EAAO,aAAa,GACnE,GAAY,EAAO,MAAM,KAE5B,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,0CAAkC,EAAO,WAAW,EAAI,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,iCAAwB,qBAC3G,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAiC,IAAI,KAAK,EAAO,UAAU,EAAE,kBAAkB,OANpF,EAAO,EAAE,KAYtB,EAAQ,MAAM,CAAG,GAChB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wDACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,UACR,KAAK,OACL,QAAS,IAAM,EAAc,GAAQ,KAAK,GAAG,CAAC,EAAG,EAAO,IACxD,SAAyB,IAAf,EACV,UAAU,mGAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,cAGzB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mCACZ,MAAM,IAAI,CAAC,CAAE,OAAQ,KAAK,IAAI,CAAC,EAAQ,MAAM,CAAG,EAAG,GAAG,GAAG,CAAC,CAAC,EAAG,IAC7D,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAEC,QAAS,IAAM,EAAc,GAC7B,UAAW,CAAC,2CAA2C,EAAE,IAAe,EAAM,eAAiB,qCAAA,CAC3F,EAHC,MAQX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,UACR,KAAK,OACL,QAAS,IAAM,EAAc,GAAQ,KAAK,GAAG,CAAC,KAAK,IAAI,CAAC,EAAQ,MAAM,CAAG,GAAK,EAAG,EAAO,IACxF,SAAU,GAAc,KAAK,IAAI,CAAC,EAAQ,MAAM,CAAG,GAAK,EACxD,UAAU,mGAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,YAAY,CAAA,CAAC,UAAU,4BAWvC,EAAK,MAAM,CAAG,GACb,CAAA,EAAA,EAAA,GAAA,EAAC,UAAA,CAAQ,UAAU,sEACjB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qDACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,6DAAoD,+BAClE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACZ,EAAK,GAAG,CAAC,CAAC,EAAK,IACd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAgB,UAAU,4EACzB,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,QAAS,IAAM,EAAW,IAAY,EAAQ,KAAO,GACrD,UAAU,qHAEV,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,sCAA8B,EAAI,QAAQ,GAC1D,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAW,CAAC,4CAA4C,EAAE,IAAY,EAAQ,aAAe,GAAA,CAAI,MAE/G,IAAY,GACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mGACZ,EAAI,MAAM,KAVP,WAqBpB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CACR,OAAQ,EACR,QAAS,IAAM,EAAiB,IAChC,UAxSoB,CAwST,IAvSf,EAAM,CAAE,MAAO,iBAAkB,YAAa,wBAAyB,GACvE,EAAO,IAAI,CAAC,QACd,EAsSM,MAAM,6BACN,QAAQ,wCAIhB,CCjeA,IAAA,EAAA,EAAA,CAAA,CAAA,OAEe,SAAS,IACtB,IAAM,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,EAAY,GAAQ,GAAK,SAAS,EAAO,EAAE,EAAc,KACzD,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAiB,MACjD,CAAC,EAAiB,EAAmB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAY,EAAE,EAC9D,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAE3C,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACJ,GACF,GAEJ,EAAG,CAAC,EAAU,AAHG,EAKjB,IAAM,EAAe,UACnB,GAAK,CAAD,CACJ,GAAI,CACF,IAAM,CAFQ,CAED,MAAM,EAAA,iBAAiB,CAAC,OAAO,CAAC,GAC7C,EAAW,GAGX,IAAM,EAAc,EAAa,gBAAgB,EAAI,EAAE,CACvD,GAAI,EAAW,MAAM,CAAG,EAAG,CAEzB,IAAM,EADc,AACJ,OADU,EAAA,iBAAiB,CAAC,MAAM,EAAA,EACtB,MAAM,CAAC,AAAC,GAAe,EAAW,QAAQ,CAAC,EAAE,EAAE,GAC3E,EAAmB,EACrB,CACF,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,2BAA4B,EAC5C,QAAU,CACR,GAAa,EACf,CACF,SAEA,AAAI,EAEA,CAAA,EAAA,EAAA,IAAA,AAFW,AAEX,EAAC,MAAA,CAAI,UAAU,yBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAA,GACV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAA,GACP,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yDACd,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,0BAAiB,yBAEhC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAA,MAKR,EAcH,CAAA,EAAA,EAAA,EAdY,EAcZ,EAAC,MAAA,CAAI,UAAU,yBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAA,GACV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAA,GACP,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAe,QAAS,IAGxB,EAAgB,MAAM,CAAG,GACxB,CAAA,EAAA,EAAA,GAAA,EAAC,UAAA,CAAQ,UAAU,oEACjB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2CACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,0EAAiE,sBAC/E,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yEACZ,EAAgB,GAAG,CAAC,AAAC,GACpB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAY,KAAM,CAAC,SAAS,EAAE,EAAE,EAAE,CAAA,CAAE,CAAE,UAAU,iBACnD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4FACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iDACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAK,CAAA,CACJ,IAAK,EAAE,SAAS,EAAI,mBACpB,IAAK,EAAE,IAAI,CACX,IAAI,CAAA,CAAA,EACJ,UAAU,2EAGd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,+EAAuE,EAAE,QAAQ,GAC9F,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,6EAAqE,EAAE,IAAI,GACzF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,yCAA+B,IAAE,EAAE,KAAK,CAAC,OAAO,CAAC,MAC7D,EAAE,cAAc,EAAI,EAAE,cAAc,CAAG,EAAE,KAAK,EAC7C,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,+CAAqC,IAAE,EAAE,cAAc,CAAC,OAAO,CAAC,gBAhB5E,EAAE,EAAE,aA4B3B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAA,MArDP,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAA,GACV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAA,GACP,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yDACd,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,0BAAiB,wBAEhC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAA,KAkDf","ignoreList":[2]}