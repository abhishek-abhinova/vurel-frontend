module.exports=[3130,a=>{"use strict";var b=a.i(87924),c=a.i(97895);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f])},34157,a=>{"use strict";let b=(0,a.i(70106).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);a.s(["default",()=>b])},33441,a=>{"use strict";var b=a.i(34157);a.s(["Check",()=>b.default])},14548,a=>{"use strict";let b=(0,a.i(70106).default)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);a.s(["Save",()=>b],14548)},46122,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(71987),f=a.i(14548),g=a.i(33441),h=a.i(21374),i=a.i(40695),j=a.i(3130),k=a.i(53250),l=a.i(77687);let m=process.env.NEXT_PUBLIC_API_URL||"http://localhost:8000";function n(){let a=(0,d.useRouter)(),{toast:n}=(0,l.useToast)(),[o,p]=(0,c.useState)(!0),[q,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)([]),[u,v]=(0,c.useState)([]);(0,c.useEffect)(()=>{let b=(0,k.getCurrentUser)();b&&b.is_admin?Promise.all([k.productsAPI.getAll(),fetch(`${m}/api/featured-products`).then(a=>a.json())]).then(([a,b])=>{t(a),v(b.map(a=>a.id))}).catch(()=>{}).finally(()=>p(!1)):a.push("/login")},[a]);let w=async()=>{r(!0);try{for(let a of s){let b=u.includes(a.id),c=!0===a.is_featured;b!==c&&await fetch(`${m}/api/admin/products/${a.id}/featured`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${(0,k.getAuthToken)()}`},body:JSON.stringify({is_featured:b})})}n({title:"Success",description:"Featured products updated"})}catch(a){n({title:"Error",description:a.message,variant:"destructive"})}finally{r(!1)}};return o?(0,b.jsx)("div",{className:"p-8 flex items-center justify-center",children:(0,b.jsx)("p",{children:"Loading..."})}):(0,b.jsxs)("div",{className:"p-8 max-w-5xl",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"Featured Products"}),(0,b.jsxs)("p",{className:"text-muted-foreground",children:["Select products to display in the Featured Products section (",u.length," selected)"]})]}),(0,b.jsxs)(i.Button,{onClick:w,disabled:q,children:[(0,b.jsx)(f.Save,{className:"h-4 w-4 mr-2"}),q?"Saving...":"Save"]})]}),(0,b.jsxs)(j.Card,{children:[(0,b.jsxs)(j.CardHeader,{children:[(0,b.jsxs)(j.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(h.Star,{className:"h-5 w-5"})," Select Featured Products"]}),(0,b.jsx)(j.CardDescription,{children:"Click to select/deselect products to feature on homepage"})]}),(0,b.jsxs)(j.CardContent,{children:[(0,b.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:s.map(a=>(0,b.jsxs)("div",{onClick:()=>{var b;return b=a.id,void v(a=>a.includes(b)?a.filter(a=>a!==b):[...a,b])},className:`relative cursor-pointer rounded-lg border-2 overflow-hidden transition-all ${u.includes(a.id)?"border-[#2E5E99] ring-2 ring-[#2E5E99]/30":"border-gray-200 hover:border-gray-300"}`,children:[(0,b.jsxs)("div",{className:"aspect-square relative bg-muted",children:[(0,b.jsx)(e.default,{src:a.image_url||"/placeholder.svg",alt:a.name,fill:!0,className:"object-cover"}),u.includes(a.id)&&(0,b.jsx)("div",{className:"absolute top-2 right-2 w-6 h-6 bg-[#2E5E99] rounded-full flex items-center justify-center",children:(0,b.jsx)(g.Check,{className:"w-4 h-4 text-white"})})]}),(0,b.jsxs)("div",{className:"p-2",children:[(0,b.jsx)("p",{className:"text-sm font-medium truncate",children:a.name}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:["â‚¹",a.price]})]})]},a.id))}),0===s.length&&(0,b.jsx)("div",{className:"text-center py-12 text-muted-foreground",children:"No products available. Add products first."})]})]})]})}a.s(["default",()=>n])}];

//# sourceMappingURL=_81a87e32._.js.map